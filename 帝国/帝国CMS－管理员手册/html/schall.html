<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>《帝国网站管理系统》教程</title>
<link href="../images/css.css" rel="stylesheet" type="text/css">
</head>

<body leftmargin="0" topmargin="0">
<table width="100%" border="0" align="center" bgcolor="#C3EFFF">
  <tr> 
    <td width="50%" height="27"><strong><img src="../images/noadd.gif" width="15" height="15">全站全文搜索</strong></td>
    <td width="50%"><div align="center">
        <select name="xx" id="xx" onchange=window.location='#'+this.options[this.selectedIndex].value>
          <option value="">选择本节内容&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</option>
          <option value="schallsay">&nbsp; &nbsp; &gt; 全站搜索介绍</option>
		  <option value="setschall">&nbsp; &nbsp; &gt; 设置全站搜索</option>
          <option value="addschall">&nbsp; &nbsp; &gt; 增加搜索数据源</option>
		  <option value="schall">&nbsp; &nbsp; &gt; 管理搜索数据源</option>
		  <option value="clearschall">&nbsp; &nbsp; &gt; 清理搜索多余数据</option>
		  <option value="schallform">&nbsp; &nbsp; &gt; 全站搜索表单语法说明</option>
        </select>
      </div></td>
  </tr>
</table>
<br>
<table width="98%" border="0" align="center">
  <tr id="schallsay"> 
    <td height="25" bgcolor="#4FB4DE"><strong><font color="#FFFFFF">一、全站搜索介绍：</font></strong></td>
  </tr>
  <tr> 
    <td width="100%" height="25"><strong>1、全站全文搜索说明：<br>
      </strong>帝国CMS6.0以上版本新增全站全文搜索功能，采用中文分词、编码转码和Mysql全文检索技术结合，搜索非常高效。解决了同时搜索多个表的数据、搜索存文本模型的内容、在大数据量情况下的全文搜索解决方案。<br>
      用户可以将各个数据表数据导入全文搜索，包括存文本模型、主表或副表字段，支持设置导入字段及多表批量导入；并增加清理搜索多余数据功能，可将已经删除或失效信息删除。<br>
      全文搜索除了全站搜索，还可以指定只搜索某一栏目，支持多个关键字同时搜索。<br>
      <br>
      <strong>2、增加搜索数据源的步骤：</strong><br>
      (1)、增加搜索数据源；<br>
      (2)、导入搜索数据源；<br>
      (3)、完成。</td>
  </tr>
</table>
<br>
<br>
<table width="98%" border="0" align="center">
  <tr id="setschall"> 
    <td width="100%" height="25" bgcolor="#4FB4DE"><strong><font color="#FFFFFF">二、设置全站搜索：</font></strong></td>
  </tr>
  <tr> 
    <td height="25">1、登录后台，单击“<strong>栏目</strong>”菜单，选择“<strong>全站搜索设置</strong>”子菜单，进入全站搜索设置界面：</td>
  </tr>
  <tr> 
    <td height="25"><img src="img/schall1.jpg" width="443" height="416"></td>
  </tr>
  <tr> 
    <td height="25">2、进入全站搜索设置界面：</td>
  </tr>
  <tr> 
    <td height="25"><img src="img/schall2.jpg" width="700" height="266" border="1"></td>
  </tr>
  <tr>
    <td height="25"><table width="100%" border="0" cellpadding="3" cellspacing="1" bgcolor="#4FB4DE">
        <tr bgcolor="#FFFFFF"> 
          <td width="14%"><strong>开启搜索</strong></td>
          <td width="86%">选择是否开启全站搜索。</td>
        </tr>
        <tr bgcolor="#FFFFFF"> 
          <td><strong>搜索范围</strong></td>
          <td>选择可搜索的字段(标题或正文)。</td>
        </tr>
        <tr bgcolor="#FFFFFF"> 
          <td><strong>搜索关键字长度</strong></td>
          <td>设置限制用户填写的关键字长度。</td>
        </tr>
        <tr bgcolor="#FFFFFF"> 
          <td><strong>搜索时间间隔</strong></td>
          <td>设置连续搜索的间隔时间。</td>
        </tr>
        <tr bgcolor="#FFFFFF"> 
          <td><strong>页面显示</strong></td>
          <td>设置搜索结果页面显示分页数量。</td>
        </tr>
        <tr bgcolor="#FFFFFF"> 
          <td><strong>不导入搜索表的终极栏目</strong></td>
          <td>设置不想导入搜索的栏目ID (格式：栏目ID1,栏目ID2...多个用&quot;,&quot;隔开)。</td>
        </tr>
      </table></td>
  </tr>
</table>
<br>
<br>
<table width="98%" border="0" align="center">
  <tr id="addschall"> 
    <td height="25" bgcolor="#4FB4DE"><strong><font color="#FFFFFF">三、增加搜索数据源</font></strong></td>
  </tr>
  <tr> 
    <td height="25" bgcolor="#C3EFFF">(一)、搜索数据源介绍：</td>
  </tr>
  <tr> 
    <td height="25">设置搜索数据的来源表，将数据源的数据导入到搜索表，全站搜索才能搜索到记录，所以更新信息后要重新导入数据源，以将新加的信息导入搜索表。</td>
  </tr>
  <tr>
    <td height="25" bgcolor="#C3EFFF">(二)、增加搜索数据源：</td>
  </tr>
  <tr> 
    <td width="100%" height="25">1、登录后台，单击“<strong>栏目</strong>”菜单，选择“<strong>管理搜索数据源</strong>”子菜单，进入管理搜索数据源界面：</td>
  </tr>
  <tr> 
    <td height="25"><img src="img/schall3.jpg" width="392" height="402"></td>
  </tr>
  <tr> 
    <td height="25">2、进入管理搜索数据源，点击“增加搜索数据源”按钮进入增加搜索数据源界面：</td>
  </tr>
  <tr> 
    <td height="25"><img src="img/schall4.jpg" width="700" height="120"></td>
  </tr>
  <tr> 
    <td height="25">3、进入增加搜索数据源界面：</td>
  </tr>
  <tr> 
    <td height="25"><img src="img/schall5.jpg" width="700" height="227"></td>
  </tr>
  <tr> 
    <td height="25"><table width="100%" border="0" cellpadding="3" cellspacing="1" bgcolor="#4FB4DE">
        <tr bgcolor="#FFFFFF"> 
          <td width="14%">导入的数据表</td>
          <td width="86%">选择要导入全站搜索表的数据表。</td>
        </tr>
        <tr bgcolor="#FFFFFF"> 
          <td>标题字段</td>
          <td>填写导入数据表的标题字段名。</td>
        </tr>
        <tr bgcolor="#FFFFFF"> 
          <td>内容字段</td>
          <td>填写导入数据表的内容字段名(如果不使用内容搜索，可以改成其他字段，比如说keyboard等)。</td>
        </tr>
        <tr bgcolor="#FFFFFF"> 
          <td>简介字段</td>
          <td>填写搜索结果页显示的简介字段名。</td>
        </tr>
        <tr bgcolor="#FFFFFF"> 
          <td>每组导入记录数</td>
          <td>设置分组导入数量，防止执行超时。</td>
        </tr>
      </table></td>
  </tr>
</table>
<br>
<br>
<table width="98%" border="0" align="center">
  <tr id="schall"> 
    <td width="100%" height="25" bgcolor="#4FB4DE"><strong><font color="#FFFFFF">四、管理搜索数据源：</font></strong></td>
  </tr>
  <tr> 
    <td height="25">1、增加搜索数据源后，进入管理搜索数据源界面：</td>
  </tr>
  <tr> 
    <td height="25"><img src="img/schall6.jpg" width="700" height="192"></td>
  </tr>
  <tr>
    <td height="25">2、以后数据源表有增加信息，可以点“导入”将新信息更新到搜索表，这样全站搜索就能搜索到。</td>
  </tr>
</table>
<br>
<br>
<table width="98%" border="0" align="center">
  <tr id="clearschall"> 
    <td width="100%" height="25" bgcolor="#4FB4DE"><strong><font color="#FFFFFF">五、清理搜索多余数据：</font></strong></td>
  </tr>
  <tr> 
    <td height="25">1、登录后台，单击“<strong>栏目</strong>”菜单，选择“<strong>清理搜索数据</strong>”子菜单，进入清理搜索数据界面：</td>
  </tr>
  <tr>
    <td height="25"><img src="img/schall7.jpg" width="390" height="403"></td>
  </tr>
  <tr>
    <td height="25">2、进入清理搜索数据界面：</td>
  </tr>
  <tr> 
    <td height="25"><img src="img/schall8.jpg" width="700" height="183" border="1"></td>
  </tr>
</table>
<br>
<br>
<table width="98%" border="0" align="center">
  <tr id="schallform"> 
    <td width="100%" height="25" bgcolor="#4FB4DE"><strong><font color="#FFFFFF">六、全站搜索表单语法说明：</font></strong></td>
  </tr>
  <tr> 
    <td height="25">1、全站搜索表单语法说明：</td>
  </tr>
  <tr> 
    <td height="25"><strong>搜索表单提交地址：</strong>/e/sch/index.php<br> <strong>表单提交方式用：</strong>GET<br> 
      <strong>keyboard：</strong>搜索关键字变量(前台搜索多个关键字可以用空格隔开)。<br> <strong>field：</strong>搜索字段变量，0为按后台设置搜索;1为按全文搜索;2为按标题搜索;3为按内容搜索。<br> 
      <strong>classid：</strong>指定要搜索的栏目ID，多个栏目ID用逗号隔开。</td>
  </tr>
  <tr> 
    <td height="25"><p>2、表单范例：</p></td>
  </tr>
  <tr> 
    <td height="25"> <table border=0 width=100% cellspacing=1 cellpadding=10 bgcolor='#cccccc' class='incthreadtext'>
        <tr> 
          <td width='100%' bgcolor='#FFFFFF' style='word-break:break-all'>&lt;form 
            action='<b>/e/sch/index.php</b>' method=&quot;<b>GET</b>&quot; name=&quot;search_news&quot;&gt;<br> 
            &lt;table width=&quot;100%&quot; border=&quot;0&quot; cellspacing=&quot;6&quot; 
            cellpadding=&quot;0&quot;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &lt;tr&gt;<br> 
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;td height=&quot;32&quot;&gt;关键字：&lt;input 
            name=&quot;<b>keyboard</b>&quot; type=&quot;text&quot; value=&quot;&quot; 
            /&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
            &lt;select name=&quot;<b>field</b>&quot;&gt;<br> &nbsp; &nbsp; &nbsp; 
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;option value=&quot;1&quot;&gt;全文&lt;/option&gt;<br> 
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;option 
            value=&quot;2&quot;&gt;标题&lt;/option&gt;<br> &nbsp; &nbsp; &nbsp; 
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;option value=&quot;3&quot;&gt;内容&lt;/option&gt;<br> 
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/select&gt; 
            <br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input 
            type=&quot;submit&quot; name=&quot;Submit2&quot; value=&quot;搜索&quot; 
            /&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
            &lt;/td&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &lt;/tr&gt;<br> &lt;/table&gt;<br> 
            &lt;/form&gt;</td>
        </tr>
      </table></td>
  </tr>
  <tr> 
    <td height="25">3、全站搜索结果页面：</td>
  </tr>
  <tr> 
    <td height="25">(1)、全站搜索结果模板修改：后台&gt;模板&gt;公共模板&gt;修改“全站搜索模板”。</td>
  </tr>
  <tr> 
    <td height="25">(2)、搜索结果页面预览：</td>
  </tr>
  <tr>
    <td height="25"><img src="img/schall9.jpg" width="650" height="473"></td>
  </tr>
</table>
<br>
<br>
<table width="98%" border="0" align="center">
  <tr> 
    <td width="100%" height="25"><strong>相关链接：</strong></td>
  </tr>
  <tr> 
    <td height="25">1、<a href="http://bbs.phome.net/showthread-13-117023-0.html" target="_blank">帝国网站管理系统功能解密之全站全文搜索功能</a></td>
  </tr>
</table>
<br>
<br>
</body>
</html>